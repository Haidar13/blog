<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Architecture Considerations for Cloud Native Applications | Haidar Almubarak</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Architecture Considerations for Cloud Native Applications" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Difference between monoliths and microservices and when to use each one." />
<meta property="og:description" content="Difference between monoliths and microservices and when to use each one." />
<link rel="canonical" href="https://haidar13.github.io/scnf/2021/06/22/CNF-lesson02-arch-consideration.html" />
<meta property="og:url" content="https://haidar13.github.io/scnf/2021/06/22/CNF-lesson02-arch-consideration.html" />
<meta property="og:site_name" content="Haidar Almubarak" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-06-22T00:00:00-05:00" />
<script type="application/ld+json">
{"headline":"Architecture Considerations for Cloud Native Applications","dateModified":"2021-06-22T00:00:00-05:00","datePublished":"2021-06-22T00:00:00-05:00","description":"Difference between monoliths and microservices and when to use each one.","mainEntityOfPage":{"@type":"WebPage","@id":"https://haidar13.github.io/scnf/2021/06/22/CNF-lesson02-arch-consideration.html"},"@type":"BlogPosting","url":"https://haidar13.github.io/scnf/2021/06/22/CNF-lesson02-arch-consideration.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://haidar13.github.io/feed.xml" title="Haidar Almubarak" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Architecture Considerations for Cloud Native Applications | Haidar Almubarak</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Architecture Considerations for Cloud Native Applications" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Difference between monoliths and microservices and when to use each one." />
<meta property="og:description" content="Difference between monoliths and microservices and when to use each one." />
<link rel="canonical" href="https://haidar13.github.io/scnf/2021/06/22/CNF-lesson02-arch-consideration.html" />
<meta property="og:url" content="https://haidar13.github.io/scnf/2021/06/22/CNF-lesson02-arch-consideration.html" />
<meta property="og:site_name" content="Haidar Almubarak" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-06-22T00:00:00-05:00" />
<script type="application/ld+json">
{"headline":"Architecture Considerations for Cloud Native Applications","dateModified":"2021-06-22T00:00:00-05:00","datePublished":"2021-06-22T00:00:00-05:00","description":"Difference between monoliths and microservices and when to use each one.","mainEntityOfPage":{"@type":"WebPage","@id":"https://haidar13.github.io/scnf/2021/06/22/CNF-lesson02-arch-consideration.html"},"@type":"BlogPosting","url":"https://haidar13.github.io/scnf/2021/06/22/CNF-lesson02-arch-consideration.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://haidar13.github.io/feed.xml" title="Haidar Almubarak" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Haidar Almubarak</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Architecture Considerations for Cloud Native Applications</h1><p class="page-description">Difference between monoliths and microservices and when to use each one.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-06-22T00:00:00-05:00" itemprop="datePublished">
        Jun 22, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      5 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#SCNF">SCNF</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>There are two main approaches to design and build application which are referred to as <strong>Monoliths</strong> and <strong>microservices</strong>. it is very critical to think about the approach to follow before starting the design and the coding process to avoid unnecessary pullbacks.</p>

<p>The context discovery process helps in defining the overall structure and design of the components that can enable adding new features with minimum engineering effort.</p>

<h2 id="discovery-process">discovery process</h2>

<p>The main steps in the discovery process are :</p>

<p>1- list functional requirements (what services should the application deliver)</p>

<ul>
  <li>Who are the stakeholders and what are their needs</li>
  <li>What functionalities are required and what are the ones that are nice to have</li>
  <li>Who are the end users and how will they interact with the application</li>
  <li>What are the Input and output processes in the application</li>
</ul>

<p>2- list all available resource that helps in the implementation</p>

<ul>
  <li>Engineering resources</li>
  <li>Financial resources</li>
  <li>Time frames</li>
  <li>Internal knowledge</li>
</ul>

<h2 id="application-tires-and-their-relation-to-the-architecture">Application tires and their relation to the architecture</h2>

<p>Each application consists of 3 main tires:</p>

<ul>
  <li>UI (User Interface) - handles HTTP requests from the users and returns a response</li>
  <li>Business logic - contained the code that provides a service to the users</li>
  <li>Data layer - implements access and storage of data objects</li>
</ul>

<p>When working with a monoliths or microservices approach, the 3 tires are treated differently</p>

<p><strong>Monoliths</strong></p>

<p>In a monolithic architecture, application tiers can be described as:</p>

<ul>
  <li>part of the same unit</li>
  <li>managed in a single repository</li>
  <li>sharing existing resources (e.g. CPU and memory)</li>
  <li>developed in one programming language</li>
  <li>released using a single binary</li>
</ul>

<p><strong>Microservices</strong></p>

<p>In a microservices architecture, application tiers are managed independently, as different units. Each unit has the following characteristics:</p>

<ul>
  <li>managed in a separate repository</li>
  <li>own allocated resources (e.g. CPU and memory)</li>
  <li>well-defined API (Application Programming Interface) for connection to other units</li>
  <li>implemented using the programming language of choice</li>
  <li>released using its own binary</li>
</ul>

<p>Choosing and architecture is highly dependent on the functional requirements such as product features dependencies and the available resources es such as the engineering team.</p>

<p>If an organization have large resources and powerful engineering force they can go with micro services but if they have time limits or few resources or small team a monolith approach is usually taken.</p>

<h2 id="trade-offs-for-monoliths-and-microservices">Trade-offs for Monoliths and Microservices</h2>

<p>There is no right or wrong choice it all depends on the trade-offs associated with with each architecture in terms of development complexity, scalability, time to deploy, flexibility, operational cost, and reliability</p>

<h3 id="development-complexity">Development Complexity</h3>

<p>Development complexity represents the effort required to deploy and manage an application.</p>

<p><strong>Monoliths</strong> - one programming language; one repository; enables sequential development</p>

<p><strong>Microservice</strong> - multiple programming languages; multiple repositories; enables concurrent development</p>

<h3 id="scalability">Scalability</h3>
<p>Scalability captures how an application is able to scales up and down, based on the incoming traffic.</p>

<p><strong>Monoliths</strong> - replication of the entire stack; hence it’s heavy on resource consumption</p>

<p><strong>Microservice</strong> - replication of a single unit, providing on-demand consumption of resources</p>

<h3 id="time-to-deploy">Time to Deploy</h3>

<p>Time to deploy encapsulates the build of a delivery pipeline that is used to ship features.</p>

<p><strong>Monoliths</strong> - one delivery pipeline that deploys the entire stack; more risk with each deployment leading to a lower velocity rate</p>

<p><strong>Microservice</strong> - multiple delivery pipelines that deploy separate units; less risk with each deployment leading to a higher feature development rate</p>

<h3 id="flexibility">Flexibility</h3>

<p>Flexibility implies the ability to adapt to new technologies and introduce new functionalities.</p>

<p><strong>Monoliths</strong> - low rate, since the entire application stack might need restructuring to incorporate new functionalities</p>

<p><strong>Microservice</strong> - high rate, since changing an independent unit is straightforward</p>

<h3 id="operational-cost">Operational Cost</h3>
<p>Operational cost represents the cost of necessary resources to release a product.</p>

<p><strong>Monoliths</strong> - low initial cost, since one code base and one pipeline should be managed. However, the cost increases exponentially when the application needs to operate at scale.</p>

<p><strong>Microservice</strong> - high initial cost, since multiple repositories and pipelines require management. However, at scale, the cost remains proportional to the consumed resources at that point in time.</p>

<h3 id="reliability">Reliability</h3>

<p>Reliability captures practices for an application to recover from failure and tools to monitor an application.</p>

<p><strong>Monoliths</strong> - in a failure scenario, the entire stack needs to be recovered. Also, the visibility into each functionality is low, since all the logs and metrics are aggregated together.</p>

<p><strong>Microservice</strong> - in a failure scenario, only the failed unit needs to be recovered. Also, there is high visibility into the logs and metrics for each unit.</p>

<h2 id="best-practices-for-application-deployment">Best Practices For Application Deployment</h2>

<p>There are basic best practices when it comes to deploying an application regardless if it is a monoliths or microservices application. These practices help in improving the lifecycle of the application and make it easier to maintain and improve upon later. Here is the list of best practices:</p>

<p><strong>1- Health Checks:</strong> it showcase the status of an application. These checks report if an application is running and meets the expected behavior to serve incoming traffic</p>

<p><strong>2- Metrics:</strong> Statistics to quantify the performance of the application such as as number of active users, number of requests per seconds, longest/average response time for a request, resources (CPU, RAM …) utilization etc.</p>

<p><strong>3- Logs:</strong> provides valuable insights into what operations a service is performing at a point in time which can have multiple levels (DEBUG, INFO, WARN, ERROR, FATAL)</p>

<p><strong>4- Tracing:</strong> creating a full picture of how different services are invoked to fulfill a single request</p>

<p><strong>5- Resource Consumption:</strong> encapsulates the resources an application requires to be fully operational such as CPU, RAM, Network throughput etc.</p>

<h2 id="amorphous-applications">Amorphous Applications</h2>

<p>Applications are in a constant state of change and during the lifecycle of an application it might have operations applied to it during application maintenance such as</p>

<ul>
  <li>Split: when a functionality is too big or complex and it needs to be split into smaller units.</li>
  <li>Merge: when a unit is very granular or apply only to handful of cases it might be good to merge it with another unit.</li>
  <li>replace: sometimes a junctional is replaced entirely by a new process or written in a new framework or programing language to address issues such as performance or maintainability or extensibility.</li>
  <li>Stale: when a functionality or unit is no longer needed by the business or the application it is retired.</li>
</ul>


  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="Haidar13/blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/scnf/2021/06/22/CNF-lesson02-arch-consideration.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Simple thoughts from a complex creature.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/haidar13" title="haidar13"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/halmubarak" title="halmubarak"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
